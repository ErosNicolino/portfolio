const translations = {
  pt: {
    // --- META & NAVIGATION ---
    site_title: "Eros Nicolino — Engenheiro de Dados",
    nav_home: "Home",
    nav_projects: "Projetos",
    nav_skills: "Skills",
    nav_about: "Sobre",
    nav_cv: "CV ↓",

    // --- HERO SECTION ---
    hero_title:
      'Data Engineer | AWS | Python<br /><span class="italic-accent">Serverless Pipelines.</span>',
    hero_lead:
      "Engenharia de dados focada em redução de custos e escalabilidade. Transformo dados brutos em inteligência de negócio com arquiteturas AWS robustas.",
    hero_btn_projects: "Ver Projetos & Impacto",
    hero_btn_contact: "Entrar em Contato",

    // --- PROJECTS SECTION ---
    projects_title: "Projetos de Impacto",
    projects_subtitle:
      "Arquiteturas desenhadas para performance e eficiência de custos.",
    impact_label: "Impacto:",

    // Buttons
    btn_github: "GitHub & Docs",
    btn_demo: "Ver Demo Online",

    // Project 1: Pipeline
    proj_2_title: "Financial Data Pipeline",
    proj_2_desc:
      "Pipeline ETL processando dados da B3. Arquitetura orientada a eventos para garantir dados sempre atualizados.",
    proj_2_metric_1: "✅ Custo Zero em Idle (Serverless)",
    proj_2_metric_2: "✅ Automação 100% via EventBridge",

    // Project 2: WebRTC
    proj_3_title: "LiveLink Streaming",
    proj_3_desc:
      "Sistema de vídeo P2P eliminando custo de servidores de mídia intermediários.",
    proj_3_metric_1: "✅ Latência Sub-300ms",
    proj_3_metric_2: "✅ Escalabilidade Horizontal P2P",

    // Project 3: Pong AI
    proj_1_title: "Pong AI Agent (DQN)",
    proj_1_desc:
      "Agente autônomo treinado com Deep Q-Networks. Demonstração de lógica de recompensa complexa.",
    proj_1_metric_1: "✅ +50.000 iterações de treino",
    proj_1_metric_2: "✅ Taxa de vitória > 95%",

    // Project 4: Books API
    proj_4_title: "Enterprise Books API",
    proj_4_desc:
      "API Production-Ready com documentação automática e segurança implementada.",
    proj_4_metric_1: "✅ Auth Segura (JWT)",
    proj_4_metric_2: "✅ Pipeline de Scraping Integrado",

    // Project 5: Battleship
    proj_5_title: "Probabilistic Battleship",
    proj_5_desc:
      "IA tática baseada em mapas de calor probabilísticos. Calcula estatisticamente a melhor jogada a cada turno.",
    proj_5_metric_1: "✅ Decisão puramente estatística",
    proj_5_metric_2: "✅ Heatmaps em Tempo Real",

    // --- SKILLS & ABOUT ---
    skills_ai_title: "Data Engineering & AI",
    skills_backend_title: "Backend & Systems",
    about_title: "Background Técnico",
    about_p1:
      "Meu foco é resolver problemas de negócio complexos usando dados. Com forte base em matemática e algoritmos, transito entre a construção de infraestrutura de dados escalável na AWS e o desenvolvimento de software backend de alta performance.",
    edu_1_title: "Pós-Graduação: ML Engineering",
    edu_1_school: "FIAP (Cursando)",
    edu_2_title: "Gestão de TI",
    edu_2_school: "FAM (Concluído)",

    // --- FOOTER ---
    footer_title: "Tem um desafio de dados?",
    footer_subtitle: "Disponível para projetos e contratação.",
    footer_btn: "Vamos Conversar",
  },
  en: {
    // --- META & NAVIGATION ---
    site_title: "Eros Nicolino — Data Engineer",
    nav_home: "Home",
    nav_projects: "Projects",
    nav_skills: "Skills",
    nav_about: "About",
    nav_cv: "Resume ↓",

    // --- HERO SECTION ---
    hero_title:
      'Data Engineer | AWS | Python<br /><span class="italic-accent">Serverless Pipelines.</span>',
    hero_lead:
      "Data engineering focused on cost reduction and scalability. Transforming raw data into business intelligence with robust AWS architectures.",
    hero_btn_projects: "View Projects & Impact",
    hero_btn_contact: "Get in Touch",

    // --- PROJECTS SECTION ---
    projects_title: "Impactful Projects",
    projects_subtitle:
      "Architectures designed for performance and cost efficiency.",
    impact_label: "Impact:",

    // Buttons
    btn_github: "GitHub & Docs",
    btn_demo: "Live Demo",

    // Project 1: Pipeline
    proj_2_title: "Financial Data Pipeline",
    proj_2_desc:
      "ETL pipeline processing B3 financial data. Event-driven architecture ensures real-time availability.",
    proj_2_metric_1: "✅ Zero Idle Cost (Serverless)",
    proj_2_metric_2: "✅ 100% Automation via EventBridge",

    // Project 2: WebRTC
    proj_3_title: "LiveLink Streaming",
    proj_3_desc:
      "P2P video system eliminating the cost of intermediate media servers.",
    proj_3_metric_1: "✅ Sub-300ms Latency",
    proj_3_metric_2: "✅ P2P Horizontal Scalability",

    // Project 3: Pong AI
    proj_1_title: "Pong AI Agent (DQN)",
    proj_1_desc:
      "Autonomous agent trained with Deep Q-Networks. Demonstrating complex reward logic.",
    proj_1_metric_1: "✅ +50,000 training iterations",
    proj_1_metric_2: "✅ Win rate > 95%",

    // Project 4: Books API
    proj_4_title: "Enterprise Books API",
    proj_4_desc:
      "Production-Ready API with automatic documentation and implemented security.",
    proj_4_metric_1: "✅ Secure Auth (JWT)",
    proj_4_metric_2: "✅ Integrated Scraping Pipeline",

    // Project 5: Battleship
    proj_5_title: "Probabilistic Battleship",
    proj_5_desc:
      "Tactical AI powered by real-time probabilistic heatmaps. It calculates the statistically highest-value move every turn.",
    proj_5_metric_1: "✅ Purely statistical decision making",
    proj_5_metric_2: "✅ Real-time Heatmaps",

    // --- SKILLS & ABOUT ---
    skills_ai_title: "Data Engineering & AI",
    skills_backend_title: "Backend & Systems",
    about_title: "Technical Background",
    about_p1:
      "My focus is solving complex business problems using data. With a strong foundation in math and algorithms, I bridge the gap between scalable data infrastructure on AWS and high-performance backend software.",
    edu_1_title: "Postgrad: ML Engineering",
    edu_1_school: "FIAP (In Progress)",
    edu_2_title: "IT Management",
    edu_2_school: "FAM (Completed)",

    // --- FOOTER ---
    footer_title: "Have a data challenge?",
    footer_subtitle: "Available for projects and hiring.",
    footer_btn: "Let's Talk",
  },
};

document.addEventListener("DOMContentLoaded", () => {
  const langButtons = document.querySelectorAll(".lang-btn");

  // --- LANGUAGE HANDLER ---
  const setLanguage = (lang) => {
    // Default to PT if lang not found
    const langData = translations[lang] || translations["pt"];

    document.querySelectorAll("[data-lang-key]").forEach((element) => {
      const key = element.getAttribute("data-lang-key");
      if (langData[key]) {
        element.innerHTML = langData[key];
      }
    });

    document.documentElement.lang = lang;
    langButtons.forEach((btn) => {
      btn.classList.toggle("active", btn.getAttribute("data-lang") === lang);
    });
    localStorage.setItem("preferredLanguage", lang);
  };

  langButtons.forEach((button) => {
    button.addEventListener("click", () => {
      setLanguage(button.getAttribute("data-lang"));
    });
  });

  // Init with stored language or default to PT
  setLanguage(localStorage.getItem("preferredLanguage") || "pt");

  // --- MOBILE MENU HANDLER ---
  const navToggle = document.querySelector(".nav-toggle");
  const nav = document.querySelector(".nav");
  if (navToggle && nav) {
    navToggle.addEventListener("click", () => {
      const isVisible = nav.getAttribute("data-visible") === "true";
      nav.setAttribute("data-visible", !isVisible);
    });

    // Auto-close menu when clicking a link
    document.querySelectorAll(".nav-list a").forEach((link) => {
      link.addEventListener("click", () =>
        nav.setAttribute("data-visible", "false")
      );
    });
  }

  // --- SCROLL REVEAL ANIMATION ---
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
        }
      });
    },
    { threshold: 0.1 }
  );

  document
    .querySelectorAll(".scroll-reveal, .reveal-item")
    .forEach((el) => observer.observe(el));
});
